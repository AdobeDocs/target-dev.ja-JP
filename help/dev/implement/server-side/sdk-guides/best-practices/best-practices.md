---
title: オンデバイス判定を使用する際のベストプラクティス
description: を使用する際のベストプラクティスを学ぶ [!UICONTROL オンデバイス判定] in [!DNL Adobe Target]
feature: Implement Server-side
exl-id: a0ca014d-ad9f-4ecc-961d-cb7ba236507f
source-git-commit: e5bae1ac9485c3e1d7c55e6386f332755196ffab
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 2%

---

# ベストプラクティス

[!DNL Adobe] を使用する際には、次のベストプラクティスを推奨します。 [!UICONTROL オンデバイス判定]:

## 判定方法が「オンデバイス」の場合のベストプラクティス

「オンデバイス」を判定方法として使用する場合、訪問者が Web ページを初めて読み込むと、アーティファクトがダウンロードされます。 最初のページ読み込み時（キャッシュなし）に発生する必要があるアクティビティ認定は、アーティファクトが完全にダウンロードされた後でのみ発生します。 新しい匿名訪問者に対してアクティビティの認定が迅速におこなわれるように、いくつかのベストプラクティスに従うことができます。

* アーティファクトに含まれない「オンデバイス」対応アクティビティを非アクティブ化します。
* Target Premium をお持ちの場合は、 [プロパティ/ワークスペース](https://experienceleague.adobe.com/docs/target/using/administer/manage-users/enterprise/property-channel.html?lang=ja) ワークスペースごとに異なるアーティファクトファイルを作成する場合。
* 正当な理由でアーティファクトファイルが非常に大きくなった場合は、「ハイブリッド」判定方法を使用できます。 このメソッドを使用すると、アーティファクトを並行してダウンロードでき、すべての Target API 呼び出しがアーティファクトがダウンロードされるまでワイヤーを経由します。 この方法の詳細については、以下の「ハイブリッド」判定モードのベストプラクティスの節を参照してください。
* シングルページアプリケーション (SPA) の場合、 [!DNL Adobe] では、最初のページ読み込み時にアプリケーションのメイン JavaScript ファイルを読み込む前に、at.js を読み込んで初期化することをお勧めします。 この方法により、アーティファクトのダウンロードがはるかに早く開始され、エクスペリエンスのレンダリングが高速化されます。

## 判定方法が「ハイブリッド」の場合のベストプラクティス

「ハイブリッド」を判定方法として使用する場合、アーティファクトは同時にダウンロードされます。 アーティファクトがダウンロードされるまでは、 [!DNL Target] API 呼び出しは、「ロケーション」がデバイス上に対応している場合でも、通信を経由します。 この動作は、すべての `getOffers()` を呼び出し、ほとんどの状況で最高のパフォーマンスを提供します。 のデフォルトの動作を変更した場合 `getOffers()` を設定し、 `decisioningMethod` から `on-device`エラーを回避し、最高のパフォーマンスを確保するには、次のベストプラクティスに従います。

* を呼び出すことにした場合 `getOffers()` 次を使用 `decisioningMethod` as `on-device` ページを初めて読み込む際は、エラーを避けるために、「ARTIFACT_DOWNLOAD_SUCCEEDED」at.js イベントハンドラー内で読み込む必要があります。 アーティファクトが非常に大きい場合、この方法を使用する「場所」は、アーティファクトが完全にダウンロードされた後にのみレンダリングされ、エクスペリエンスのレンダリングが遅れる可能性があります。 [!DNL Adobe] では、この方法をほとんど使用しないことをお勧めします。 この方法を使用する場合は、上記の「デバイス上」のベストプラクティスの節で、アーティファクトのサイズを小さくするためのベストプラクティスに従ってください。
